@page "/druzyny"
@inject ULODbContext _dbcontext
@using Microsoft.EntityFrameworkCore
@using ULO.UI.Models.Entities

<style>
    a {
        text-decoration: none;
        color: #000;
    }

        a:hover {
            color: #000;
        }

    #test:hover {
        box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 1);
    }
</style>

<div class="container">
    <h1 class="mt-4 mb-4 text-center">Lista drużyn</h1>

    @if (teamList is not null)
    {
        foreach (var item in teamList)
        {
            <a href="/druzyna/@item.Id">
                <div id="test" class="row text-center" style="margin: 10px 0 10px 0; border-bottom: solid 1px #000">

                    <div class="row align-items-center">
                        <div class="col-md-2 text-center">
                            <img src="@($"data:image/png;base64,{Convert.ToBase64String(item.Logo)}")" alt="Logo" class="rounded-circle" style="width: 150px; height: 150px; margin-bottom: 15px;" />
                        </div>

                        <div class="col-md-8 d-flex align-items-center justify-content-around">
                            <h5 class="card-title mb-0 me-3">@item.TeamName</h5>
                            <p class="card-text mb-0 me-3"><strong>Adres:</strong> @item.Address</p>
                            <p class="card-text mb-0"><strong>Instagram:</strong> @item.InstaUrl</p>
                        </div>
                    </div>

                </div>
            </a>

        }
    }
</div>


@code {

    public List<Team>? teamList { get; set; }

    protected override async Task OnInitializedAsync()
    {
        teamList = await _dbcontext.Team.Where(t => t.Status == 'A').ToListAsync();
    }

}
